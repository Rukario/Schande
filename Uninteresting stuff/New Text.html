<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="user-scalable=0">
<title>New Text.txt</title>
<head><style>
html,body {caret-color:#ff8228; font-family:courier; font-size:14px; margin:0; padding:0; white-space:pre-wrap;}
[contenteditable]:focus {outline:none;}
.editor {padding:12px; padding-top:52px; min-width:calc(100% - 24px); min-height:81vh; line-height:1.1;}
a {color:#ff9449;}
a:visited {color:#ffc66d;}
img {vertical-align:top;}
h1,h2,h3,h4,h5,h6{margin:4px;}
.colorset{color:#bfddc6; cursor:pointer;}
.colorsel{opacity:75%}
.hyperlink{color:#bfddc6; text-decoration:underline;}
.blink{animation: bl 1000ms linear infinite;}
@keyframes bl{50%{opacity:50%;}}
input[type="text"] {padding:3px 11px; width:86px;} /*Firefox: padding:3px 11px 4px;*/
input[type="text"]:focus {outline:none;}
input[type="file"] {display: none;}
input[type="color"] {width:0; height:0; padding:0; margin:0; border:0; opacity:0;}
::placeholder {color:#3cb;}

.cell {background-color:#333; border:2px solid #000; position:relative; display:inline-block; width:75px; height:48px; cursor:pointer; line-height:1.1;}
.previous, .reverse, .inverse, .next, .tangerine{white-space:nowrap; border:1px solid #033; border-radius:0px; padding:4px 11px; margin:2px; line-height:1.1;}
.next{color:#6fe; background-color:#066;}
.previous{color:#6fe; background-color:#399;}
.reverse{background-color:#428; color:#d9f; border:1px solid #214;}
.inverse{background-color:#d9f; color:#428; border:1px solid #214;}
.tangerine{background-color:#c60; color:#fc3; border:1px solid #842;}

.picker {font-family:arial; font-size:11px; padding:4px 11px 3px; position:relative;} /*Firefox: font-size:12px; padding:5px 11px 4px;*/
.aczo {font-family:courier; font-size:12px; border:none; border-top:1px solid #033; border-bottom:1px solid #033; margin:-4px 2px; bottom:4px; padding:8px 5px 9px; text-align:center; width:34px; display:inline-block;
  clip-path: polygon(
14% 12%,
50% 0%,
86% 12%,
100% 68%,
82% 100%,
18% 100%,
0% 68%
);
}
.aczo28 {bottom:5px; padding:10px 7px 11px; width:44px;}
.bloom {border-radius: 12px; padding:0 12px; margin:0 -12px; background-color:#ffffff; box-shadow: 0 0 60px 30px rgba(255, 255, 255, 0.6), 0 0 100px 60px rgba(255, 0, 255, 0.4), 0 0 400px 200px rgba(255, 255, 255, 0.2);}
#cursor_tooltip{z-index:2; position:absolute; left:0px; top:0px; right:initial; display:none; transition: left .5s linear;}
#cursor_focus{position:absolute; left:0px; top:0px; right:initial; pointer-events:none;}
.cursed{pointer-events:none;}
.backtip {display:none; position:relative; line-height:1.1; font-size:11px;}
.backtip::before {content:''; position:absolute; left:0; top:0; z-index:1; border:1px solid #ffffff; background:transparent; mix-blend-mode:overlay; width:calc(100% - 2px); height:calc(100% - 2px); pointer-events:none;}
.local_tooltip {z-index:2; display:inline-block; color:inherit; cursor:default; padding:6px 11px 4px; margin:1px;}
.tooltip {display:inline-block; white-space:initial; padding:0px 8px; font-family:sans-serif; font-size:90%; max-width:calc(100% - 36px); line-height:1.1; z-index:2; left:0px; top:0px; right:initial;}
.menu {color:#9b859d; background-color:#110c13;}
.exitmenu {color:#f45; background-color:#2d0710;}
::selection {background:rgba(255, 130, 40, 0.25);}
.stdout {display:none; white-space:pre; line-height:1.1; color:#9b859d; background-color:#110c13; border:2px solid #221926; padding:6px; margin-top:12px;}

/*
My red modification of https://github.com/highlightjs/highlight.js/blob/main/src/styles/base16/railscasts.css
Railscasts-like style (c) Visoft, Inc. (Damien White)
*/

.hljs-comment,
.hljs-quote {
  color: #aabbcc;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag {
  color: #e3ceab;
}

.hljs-string,
.hljs-number,
.hljs-regexp,
.hljs-variable,
.hljs-template-variable {
  color: #88cc44;
}

.hljs-subst {
  color: #229922;
}

.hljs-tag,
.hljs-name {
  color: #e8bf6a;
}

.hljs-type {
  color: #da4939;
}


.hljs-symbol,
.hljs-bullet,
.hljs-built_in,
.hljs-builtin-name,
.hljs-attr,
.hljs-link {
  color: #6d9cbe;
}

.hljs-params {
  color: #d0d0ff;
}

.hljs-attribute {
  color: #cda869;
}

.hljs-meta {
  color: #9b859d;
}

.hljs-title,
.hljs-section {
  color: #ffc66d;
}

.hljs-addition {
  background-color: #144212;
  color: #e6e1dc;
  display: inline-block;
  width: 100%;
}

.hljs-deletion {
  background-color: #600;
  color: #e6e1dc;
  display: inline-block;
  width: 100%;
}

.hljs-selector-class {
  color: #9b703f;
}

.hljs-selector-id {
  color: #8b98ab;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

.hljs-link {
  text-decoration: underline;
}
</style>
<script>
function getfontcolor(c){
  let [r, g, b, v] = [parseInt(c.substring(1, 3), 16), parseInt(c.substring(3, 5), 16), parseInt(c.substring(5, 7), 16), "#fff"];
  // let w = (r * 0.299) + (g * 0.587) + (b * 0.114);
  // let w = (r+g+b)/3;
  // var m = Math.min.apply(Math, [r, g, b]);
  // [r, g, b] = [r-m, g-m, b-m];
  // var co = Math.max.apply(Math, [r, g, b])
  if(r >= 204 && g >= 204 && b >= 204){
    v = "#586e75";
  } else if(r >= 153 || g >= 153|| b >= 153){
    v = "#000";
  } else if(r >= 128 && g >= 32 && b >= 32){
    v = "#faa";
  } else if(r >= 32 && g >= 16 && b >= 16){
    v = "#93a1a1";
  } else if(r >= 32 && g >= 7 && b >= 7){/* red */
    v = "#f45";
  }
  return ".exitmenu{background-color:" + c + "; color:" + v + ";}"
}
var sharp = [false, false];
if(window.location.href.includes("#")){
  sharp[0] = window.location.href.split('#')[1]
}
if (sharp[0]){
  if(sharp[0].endsWith(".css")){
    var link = document.createElement("link");
    link.href = sharp[0];
    link.rel = "stylesheet"
    document.getElementsByTagName("head")[0].appendChild(link);
    link.onerror = () => {
      sharp[1] = true;
    }
  } else {
    var s = document.createElement("style")
    s.innerHTML = getfontcolor("#" + sharp[0]);
    document.getElementsByTagName("head")[0].appendChild(s)
  }
} else {
  var a = document.createElement("a");
  a.href = "#2d0710";
  a.click()
}
var FFdown = function(e) {
  var t = e.target;
  var a = t.parentNode;
  if (t.hasAttribute("data-tooltip")) {
    tooltip.style.display = "inline-block";
    tooltip.innerHTML = t.getAttribute("data-tooltip");
    let left = () => {
      setTimeout(function(){
        tooltip.style.display = "none";
      }, 1250)
      a.removeEventListener("mouseleave", left);
    }
    a.addEventListener("mouseleave", left);
  }
}

document.addEventListener("click", FFdown);

var link = false;
var cur = 0;
var downmove = false;
var busymoving, busypicker, busytyping;
var updatesel = false;
var updatelen = 0;
function FFup() {
  let sel = editor.ownerDocument.defaultView.getSelection();
  let len = sel.toString().length;
  let pos = sel.getRangeAt(0);
  if(link && link.classList.contains("hyperlink")){
    link.classList.remove("blink");
    cursor_tooltip.style.display = "none";
  }
  link = sel.anchorNode.parentNode;
  let ans = false;
  if(link.classList.contains("hyperlink")){
    link.classList.add("blink");
    where = link.getBoundingClientRect();
    cursor_tooltip.style.left = (window.scrollX + where.left + 6) + "px";
    cursor_tooltip.style.top = (window.scrollY + where.top + (where.top < 60?30:-30)) + "px";
    cursor_tooltip.classList = "next";
    cursor_tooltip.innerHTML = "<a href='" + link.innerHTML + "' target='_blank' style='text-decoration:none; font-size:12px; font-family:sans-serif;'>Open</a>";
    cursor_tooltip.style.display = "inline-block";
  } else if (len > 0 && len < 256){
    if (!updatesel){
      updatesel = window.setInterval(function () {
        let sel = editor.ownerDocument.defaultView.getSelection();
        let len = sel.toString().length;
        if (len !== updatelen){
          updatelen = len;
          FFup()
        }
      }, 500);
    }
    try {
      ans = new Function('return ' + sel.toString().replace(/(\r|\n)/g, ""))().toFixed(10)*1;
    } catch {
      cursor_tooltip.style.display = "none"
    }
  } else {
    window.clearInterval(updatesel);
    updatesel = false;
    cursor_tooltip.style.display = "none";
  }
  let preCaretRange = pos.cloneRange();
  if(ans !== false){
    where = preCaretRange.getBoundingClientRect()
    cursor_tooltip.style.left = (window.scrollX + where.left) + "px";
    cursor_tooltip.style.top = (window.scrollY + where.top + 36) + "px";
    cursor_tooltip.classList = "tangerine cursed";
    cursor_tooltip.innerHTML = "<span style='font-size:14px;'>" + ans + "</span>";
    cursor_tooltip.style.display = "inline-block";
  };
  preCaretRange.selectNodeContents(editor);
  preCaretRange.setEnd(pos.endContainer, pos.endOffset);
  cur = preCaretRange.toString().length;
  calc.placeholder = "Ln:" + editor.textContent.substr(0, cur).split("\n").length + " Pos:" + cur;
}

function plaintext(elem, e) {
  e.preventDefault();
  var text = e.clipboardData.getData('text/plain').replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
  document.execCommand('insertHTML', false, text);
}

function echo(B, b) {
  if (!b) B = "<br>" + B
  if (b) B = " " + B
  stdout.insertAdjacentHTML("beforeend", B);
  stdout.style.display = "inline-block";
}

function edit() {
  let sel = editor.ownerDocument.defaultView.getSelection();
  let len = sel.toString().length;
  let pos = sel.getRangeAt(0);
  let preCaretRange = pos.cloneRange();
  where = preCaretRange.getBoundingClientRect()
  cursor_focus.style.left = (window.scrollX + where.left - 100) + "px";
  cursor_focus.style.top = (window.scrollY + where.top - 200) + "px";
  if(cursor_focus.offsetTop+200 < window.pageYOffset || cursor_focus.offsetTop+200 > window.pageYOffset+window.innerHeight || cursor_focus.offsetLeft+100 < window.pageXOffset || cursor_focus.offsetLeft+100 > window.pageXOffset+window.innerWidth){
    cursor_focus.scrollIntoView({top: 0, behavior: "smooth", inline:"start"})
  }

  if (!(document.title.includes(' *'))){
    document.title = document.title + ' *';
    local_backtip.style.display = "none";
  }
}

function menu(){
  document.body.className = "menu"
  var x = document.getElementById("dimm");
  x.style.display = "block";
  var x = document.getElementById("dim");
  x.style.display = "none";
}

function exitmenu(){
  document.body.className = "exitmenu hljs"
  var x = document.getElementById("dimm");
  x.style.display = "none";
  var x = document.getElementById("dim");
  x.style.display = "block";
}

function rename(){
  var newtitle = prompt("Use Save Text shortcut or Save button to save the document with this file name.", document.title.replace(" *", ""));
  if (newtitle){
    document.title = newtitle;
  }
}

function linksonly(){
  canihljs = false;
  toolbar(editor.textContent.replace(/[\s\S]*?((https:\/\/.*?)(\"|\'|\n|<|\)| )|($))/g, '$2\n'));
}

function dehljs(){
  canihljs = false;
  toolbar(editor.textContent);
}

function dedup(){
  var dirty = editor.textContent.split("\n");
  clean = []
  for(var i=0;i<dirty.length;i++){
    if(dirty[i] && clean.indexOf(dirty[i])<0){
      clean.push(dirty[i]);
    } else {
      clean.push("");
    }
  }
  toolbar(clean.join("\n"));
};

function denew(){
  var dirty = editor.textContent.split("\n");
  clean = [];
  for(var i=0;i<dirty.length;i++){
    if(dirty[i]){
      clean.push(dirty[i]);
    }
  }
  toolbar(clean.join("\n"));
}

function detab(){
  toolbar(editor.textContent.replace(/	/g, "    "));
}

function decode(){
  try {
    toolbar(decodeURIComponent(editor.textContent));
  } catch {
    alert("The percent sign in this document appears malformed and has killed decoder!");
  }
}

function del(c){
  toolbar(editor.textContent.slice(...c));
}

function deamp() {
  let t = document.createElement("textarea");
  t.innerHTML = editor.textContent;
  toolbar(t.value)
}

function deuni(e) {
  return e.replace(/\\u[\dA-F]{4}/gi, function(match){return String.fromCharCode(parseInt(match.replace(/\\u/g, ''), 16));})
}

function unraw(str) {
  return str.replace(/\\[0-9]|\\['"\bfnrtv]|\\x[0-9a-f]{2}|\\u[0-9a-f]{4}|\\u\{[0-9a-f]+\}|\\./ig, match => {
    switch (match[1]) {
      case "'":
      case "\"":
      case "\\":
        return match[1];
      case "b":
        return "\b";
      case "f":
        return "\f";
      case "n":
        return "\n";
      case "r":
        return "\r";
      case "t":
        return "\t";
      case "v":
        return "\v";
      case "u":
        if (match[2] === "{") {
          return String.fromCodePoint(parseInt(match.substring(3), 16));
        }
        return String.fromCharCode(parseInt(match.substring(2), 16));
      case "x":
        return String.fromCharCode(parseInt(match.substring(2), 16));
      case "0":
        return "\0";
      default:
        return match.substring(1);
    }
  });
}

function replace(){
  let x = document.getElementById("replace");
  if(!x.value){
    canihljs = true;
    toolbar(editor.textContent);
  } else {
    let y = document.getElementById("with");
    let r = new RegExp(x.value, 'g');
    toolbar(editor.textContent.replace(r, unraw(y.value)));
  }
}

function fraktur(){
  let x = document.getElementById("replace");
  if (x.value){
    let r = new RegExp(`(${x.value})`, 'g');
    editor.innerHTML = editor.innerHTML.replace(r, "<span class='bloom'>$1</span>")
    return
  }
  var e = editor.textContent
  var str = '';
  var c = '';

  for (var ch of e) {
    ch = '0x' + ch.codePointAt(0).toString(16)
    if (ch >= 0x41 && ch <= 0x5a) {
      c = ch - 0x41 + 0x1d56c;
    } else if (ch >= 0x61 && ch <= 0x7a) {
      c = ch - 0x61 + 0x1d586;
    } else {
      c = ch;
    }
    str += String.fromCodePoint(c);
  }
  toolbar(str);
}

function save(){
  var sav = new Blob([editor.textContent], {type: "application/octet-stream"});
  var a = document.createElement("a");
  a.href = URL.createObjectURL(sav);
  a.download = document.title.replace(" *", "");
  a.click();
}

function render(){
  let w = document.getElementById("pickerdiff");
  let e = document.getElementById("editable").textContent;
  let a = document.getElementById("saver");
  var t = document.title.replace(" *", "");
  var d = {"stderr1":false, "stderr2":false, "ask":a.classList.contains("previous"), "dir":"", "name":t, "body":""}
  if (w.classList.contains("previous")){
    d["stderr1"] = "Cannot save while File 2 is active!";
    d["stderr2"] = "Please switch to File 1 before saving.";
  } else {
    var b = e.split('\n', 4).join("\n");
    for (var i=0;i<dirs.length;i++){
      n = dirs[i].split(" for ");
      nn = n[1].split(" ");
      var rx = new RegExp(nn[0], 'g');
      if(t.match(rx)){
        rx = new RegExp(nn[1], 'g')
        if(b.match(rx)){
          d["dir"] = n[0]
          break;
        };
      };
    };
    d["body"] = e;
  }
  document.body.textContent = JSON.stringify(d);
}

function locatoon(e, a){
  if (e.classList.contains("previous")){
    e.classList.remove("previous");
    e.innerHTML = e.getAttribute("data-html-original");
  } else {
    e.classList.add("previous");
    e.setAttribute("data-html-original", e.innerHTML);
    e.innerHTML = a;
  }
}

function relbar(e, a) {
  if(e.classList.contains("previous")){
    e.classList.remove("previous");
    e.innerHTML = e.getAttribute("data-html-original");
    drag.style.top = "0px"
    window.onscroll = () => {};
    window.onresize = () => {};
  } else {
    e.classList.add("previous");
    e.setAttribute("data-html-original", e.innerHTML);
    e.innerHTML = a;
    position();
    window.onscroll = () => {position()};
    window.onresize = () => {position()};
  }
}

function diff(){
  let e = document.getElementById("pickerdiff")
  if (e.classList.contains("previous")){
    e.classList.remove("previous");
    e.innerHTML = filel[2];
    editdiff.style.display = "none";
    editor.style.display = "inline-block";
  } else {
    e.classList.add("previous");
    e.innerHTML = filel[3];
    let d = editdiff.textContent.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").split("\n");
    let di = editor.textContent.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").split("\n");
    for (var i=0;i<d.length;i++){
      if(d[i] !== di[i]){
        d[i] = "<span class='menu'>" + d[i]
        break
      }
    }
    editdiff.innerHTML = d.join("\n") + "</span>";
    editor.style.display = "none";
    editdiff.style.display = "inline-block";
  }
}

function open(file) {
  var fr = new FileReader();
  fr.readAsText(file);
  fr.onload = () => {
    d = fr.result;
    bigdoc = (d.length > 300000);
    toolbar(d);
  }
}

var ti = [performance.now(), 0, 0]
function position() {
  ti[1] = window.visualViewport.offsetTop;
  if(performance.now() > ti[0]+100){
    ti[2] = ti[1]
  } else {
    setTimeout(() => {ti[2] = ti[1]}, 16.66);
  }
  ti[0] = performance.now()
  drag.style.top = Math.trunc(((ti[1]*2) - ti[2])/10)*10 + "px";
}

var filel = ["File", "Diff", "File 1", "File 2", "🦦"];
var ut = 0;
var easter = false;

new URLSearchParams(window.location.search).forEach(function (val, key) {
  if (!val){
    if (Number(key)){
      ut = key
    } else if (key == "🦦"){
      easter = true;
      filel = ["❨'▾'❩", "❨ ꊱ ❩", "❨ 1 ❩", "❨ 2 ❩", "🦦"]
    } else {
      filel[4] = key
    }
  }
});

function opendiff(file){
  var fr = new FileReader();
  fr.readAsText(file);
  fr.onload = () => {
    editdiff.innerHTML = fr.result.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
  }
  let d = document.getElementById("pickerdiff")
  d.innerHTML = filel[2];
  d.addEventListener("click", diff)
}

function newtip(y, z){
  let x = document.createElement("div");
  x.innerHTML = y;
  x.setAttribute("data-tooltip", z)
  x.classList.add("local_tooltip");
  local_backtip.appendChild(x);
  local_backtip.style.display = "inline-block";
}

function toolbar(d){
  document.body.className = "exitmenu hljs";
  document.body.innerHTML = `<div id="cursor_tooltip"></div><div id="cursor_focus"></div><div id="drag" style="margin:0px 12px; z-index:1; position:fixed; width:calc(100% + 10px); background-color:inherit; font-size:14px; border-top:12px solid transparent; background-clip:padding-box; cursor:default; -webkit-user-select:none;"><div id="dimm" style="display:none;"><button class="previous" onclick="exitmenu();">${filel[4]} -(Destructive tools)</button> ${filel[4]} -(<select id="destructive" class="next" style="padding:3px 10px 4px; max-width:100px;">
    <option value="0">Remove...</option>
    <option value="1">Remove all duplicate lines</option>
    <option value="2">Remove all new lines</option>
    <option value="3">Replace all tabs with 4 spaces each</option>
    <option value="4">Decode all ampersand signs</option>
    <option value="5">Decode all percent signs</option>
    <option value="6">Decode all unicode escapes</option>
    <option value="7">Wipe all before cursor</option>
    <option value="8">Wipe all after cursor</option>
    <option value="9">Links only</option>
    <option value="10">De-highlight (until empty text replacement)</option>
</select> or <input id="replace" class="next" type="text" placeholder="Replace...">→<input id="with" class="next" type="text" placeholder="none"><button class="next" onclick="fraktur()">where/𝕱𝖗𝖆𝖐𝖙𝖚𝖗</button>) (can't be undone)</div><div id="dim" style="display:block;"><button class="next" id="downwithme" style="border:none; background-color:transparent; padding:6px 0px; transform:rotate(45deg); left:-16px;" onclick="relbar(this, '🫦')">👄</button><button class="next" onclick="menu()">${filel[4]} -(Destructive tools)</button><input id="calc" class="next" style="width:116px;" type="text" placeholder="Calculator"><label><input id="colorpicker" type="color" value=calc.placeholder></input> ${filel[4]} -(Open<label class="next picker" id="picker">. . .</label><label class="next picker" id="pickerdiff">. . .</label>) <button class="next" onclick="rename();">${filel[4]} -(Save as)</button> ${filel[4]} -(<button class="next" onclick="save()">Save</button><button class="next" id="saver" onclick="locatoon(this, 'Text: Ask')">Text: iCloud</button>)</label><div id="local_backtip" class="backtip"></div><div id="tooltip" class="tooltip"></div></div></div><div class="editor" id="editable" style="display:inline-block;" contenteditable="plaintext-only" spellcheck=false>` + (d?(!bigdoc&&canihljs?hljs.highlightAuto(d).value:d.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")).replace(/(https:\/\/.*?)(\"|&quot;|\'|&#x27;|\n|<|&lt;|\)| )/g, '<span class="hyperlink">$1</span>$2'):"<br>") + `</div><div class="editor" id="editable2" style="display:none;" contenteditable="plaintext-only" spellcheck=false><br></div><div class="stdout" id="stdout"></div>`;
  editor = document.getElementById("editable");
  editdiff = document.getElementById("editable2");
  let left = () => {
    setTimeout(function(){
      tooltip.style.display = "none";
    }, 40)
    editor.removeEventListener("click", left);
  }
  if (!d && ut){
    tooltip.style.display = "inline-block";
    tooltip.innerHTML = "The clipboard is updated with page source, paste to view!";
    editor.addEventListener("click", left);
  }
  editor.addEventListener("mouseup", FFup);
  editor.onmousedown = () => {downmove = true};
  editor.onmouseup = () => {downmove = false};
  editor.onmousemove = () => {
    if(downmove == true){
      clearTimeout(busymoving)
      busymoving = setTimeout(FFup, 100)
    }
  };
  editor.setAttribute("oninput", "edit()");
  if(!editor.isContentEditable){
    if(!d){
      tooltip.style.display = "inline-block";
      tooltip.innerHTML = "Performance reduced: The JavaScript version is now used for compatibility of some features on this browser.";
      editor.addEventListener("click", left);
    }
    editor.setAttribute("onpaste", "plaintext(this, event)");
    editor.setAttribute("contenteditable", "true");
    editdiff.setAttribute("onpaste", "plaintext(this, event)");
    editdiff.setAttribute("contenteditable", "true");
  }
  if (canihljs&&bigdoc){
    tooltip.style.display = "inline-block";
    tooltip.innerHTML = "The document is more than 300 KB, prompting for not highlighting for performance.";
    editor.addEventListener("click", left);
  }
  bigdoc = false;
  colorpicker.addEventListener('click', () => {
    var s = document.createElement("style");
    calc.placeholder = "#000000";
    var a = document.createElement("a");
    a.href = "#000000";
    a.click()
    s.innerHTML = getfontcolor("#000000")
    document.getElementsByTagName("head")[0].appendChild(s)
  });
  var busypicker;
  colorpicker.addEventListener('change', (event) => {
    clearTimeout(busypicker);
    var s = document.createElement("style");
    calc.placeholder = event.target.value;
    var a = document.createElement("a");
    a.href = event.target.value;
    busypicker = setTimeout(() => {a.click()}, 3000)
    s.innerHTML = getfontcolor(event.target.value)
    document.getElementsByTagName("head")[0].appendChild(s)
  });
  var x = document.createElement("input");
  x.type = "file"
  x.addEventListener('change', (event) => {
    file = event.target.files[0];
    document.title = file.name;
    if(hljs){canihljs = true;}
    open(file);
  });
  picker.innerHTML = filel[0];
  picker.appendChild(x);
  var x = document.createElement("input");
  x.type = "file"
  x.addEventListener('change', (event) => {
    opendiff(event.target.files[0]);
  });
  pickerdiff.innerHTML = filel[1];
  pickerdiff.appendChild(x);
  calc.addEventListener("keyup", function(e) {
    let c = calc.value;
    if (!c){
      calc.style.backgroundColor = "#066"
    } else if (e.keyCode === 13) {
      try {
        calc.value = new Function('return ' + c)().toFixed(10)*1;
      } catch {
        if(c.startsWith("u")){
          calc.value = deuni("\\" + c)
        }
      }
    } else {
      try {
        new Function('return ' + c)();
        calc.style.backgroundColor = "#066";
      } catch {
        if(c.startsWith("u") && (!c.slice(1) || Number('0x'+c.slice(1)))){
          if (c.length == 5){
            calc.style.backgroundColor = "#066";
          } else if (c.length > 5){
            calc.style.backgroundColor = "#399";
          } else if (c.length < 5){
            calc.style.backgroundColor = "#033";
          }
        } else {
          calc.style.backgroundColor = "#399";
        }
      }
    }
  });
  destructive.addEventListener('change', (e) => {
    var x = e.target.selectedIndex;
    if (x == 1){
      dedup();
    } else if (x == 2){
      denew();
    } else if (x == 3){
      detab();
    } else if (x == 4){
      deamp();
    } else if (x == 5){
      decode();
    } else if (x == 6){
      toolbar(deuni(editor.textContent));
    } else if (x == 7){
      del([cur]);
    } else if (x == 8){
      del([0, cur]);
    } else if (x == 9){
      linksonly();
    } else if (x == 10){
      dehljs();
    }
  });
  var rep = document.getElementById("replace");
  rep.addEventListener("keyup", function(e) {
    if (e.keyCode === 13) {
      replace();
    }
  });
  rep = document.getElementById("with");
  rep.addEventListener("keyup", function(e) {
    if (e.keyCode === 13) {
      replace();
    }
  });
  if(easter){
    picker.classList.add("aczo");
    pickerdiff.classList.add("aczo");
    if(aczo28){
      picker.classList.add("aczo28");
      pickerdiff.classList.add("aczo28");
    }
  }
}

var editor, editdiff;
var dirs = [];
var hljs = false;
var canihljs = false;
var bigdoc = false;
var aczo28 = true;
window.onload = () => {
  if (document.body.getAttribute("data-launch")){
    render();
    return;
  } else {
    document.body.setAttribute("data-launch", true);
  }
  var scale = "26px";
  var adju = "128%";
  if (window.screen.width > 800){
    scale = "14px";
    adju = "none"
    aczo28 = false
  }
  document.body.style.fontSize = scale;
  document.body.style.lineHeight = scale;
  document.body.style.webkitTextSizeAdjust = adju;
  var s = document.createElement("script");
  s.src = "highlight.min.js"/* + Date.now()*/;
  document.body.appendChild(s);
  toolbar("");
  s.onload = () => {
    canihljs = true;
  }
  s.onerror = () => {
    newtip(filel[4] + " -(Highlight)", `Download and extract highlight.min.js from <a href="https://highlightjs.org/download/" target="_blank">highlight.js download page</a> directly next to HTML then reload this page<br/> &gt; I recommend custom package with several languages you need.<br/> &gt; Most common language: HTML/XML, JavaScript, Python.`);
  }
  if(sharp[1]){
    newtip(filel[4] + " -(Uninitiated CSS)", `Download and extract "` + sharp[0] + `" (if that's spelled correctly) from <a href="https://highlightjs.org/download/" target="_blank">highlight.js download page</a> directly next to HTML then reload this page`);
  }
}
</script></head><body class="exitmenu">1. Set up and run Schande.bat for its HTTP server from <a href="https://github.com/Rukario/Schande">https://github.com/Rukario/Schande</a>
2. Take me to Schande.bat, then launch <a href="http://127.0.0.1:8886/New Text.html">http://127.0.0.1:8886/New Text.html</a></body></html>
